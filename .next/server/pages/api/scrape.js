"use strict";(()=>{var e={};e.id=159,e.ids=[159],e.modules={1055:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>l});var o=r(5485),n=r.n(o),i=r(5129),s=r.n(i),c=r(3532),p=r(4337),u=e([c,p]);async function l(e,t){if("POST"!==e.method)return t.status(405).json({error:"Method not allowed"});try{let e=await n().launch({headless:!0}),r=await e.newPage();r.setDefaultNavigationTimeout(6e4),await r.setUserAgent("Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36"),await r.goto("https://remoteok.com",{waitUntil:"domcontentloaded",timeout:6e4});let a=await r.evaluate(()=>{let e=document.querySelectorAll("tr.job");return Array.from(e).map(e=>({title:e.querySelector("h2").innerText,company:e.querySelector("h3").innerText,link:e.querySelector("a").href,timestamp:new Date().toISOString()})).slice(0,10)});for(let t of(await e.close(),console.log("Firestore instance:",c.db),a))await (0,p.addDoc)((0,p.collection)(c.db,"jobs"),t);return t.status(200).json({success:!0,count:a.length})}catch(e){return console.error("Scraping error:",e),t.status(500).json({error:"Scraping failed"})}}[c,p]=u.then?(await u)():u,n().use(s()()),a()}catch(e){a(e)}})},3480:(e,t,r)=>{e.exports=r(5600)},3532:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{db:()=>p});var o=r(6551),n=r(4337),i=r(6958),s=e([o,n,i]);[o,n,i]=s.then?(await s)():s;let c=(0,o.initializeApp)({apiKey:"AIzaSyDgmthIpodDLMqBpBGCeat1li-jrkTw44U",authDomain:"cloud-scrape-panel.firebaseapp.com",projectId:"cloud-scrape-panel",storageBucket:"cloud-scrape-panel.firebasestorage.app",messagingSenderId:"128866030070",appId:"1:128866030070:web:38f9a5babe81c88ca337d7"}),p=(0,n.getFirestore)(c);(0,i.getAuth)(c),a()}catch(e){a(e)}})},4337:e=>{e.exports=import("firebase/firestore")},5129:e=>{e.exports=require("puppeteer-extra-plugin-stealth")},5485:e=>{e.exports=require("puppeteer-extra")},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6435:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},6551:e=>{e.exports=import("firebase/app")},6958:e=>{e.exports=import("firebase/auth")},8667:(e,t)=>{Object.defineProperty(t,"A",{enumerable:!0,get:function(){return r}});var r=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},8774:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>u,default:()=>p,routeModule:()=>l});var o=r(3480),n=r(8667),i=r(6435),s=r(1055),c=e([s]);s=(c.then?(await c)():c)[0];let p=(0,i.M)(s,"default"),u=(0,i.M)(s,"config"),l=new o.PagesAPIRouteModule({definition:{kind:n.A.PAGES_API,page:"/api/scrape",pathname:"/api/scrape",bundlePath:"",filename:""},userland:s});a()}catch(e){a(e)}})}};var t=require("../../webpack-api-runtime.js");t.C(e);var r=t(t.s=8774);module.exports=r})();